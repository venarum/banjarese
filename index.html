<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Banjarese-English Learning System</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    color: #333;
}
.container {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.1);
    backdrop-filter: blur(10px);
}
h1 {
    text-align: center;
    color: #4a5568;
    margin-bottom: 30px;
    font-size: 2.2em;
}
.section {
    margin-bottom: 30px;
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    border-left: 4px solid #667eea;
}
.section h2 {
    color: #667eea;
    margin-top: 0;
    margin-bottom: 15px;
}
.sql-area {
    background: #2d3748;
    color: #e2e8f0;
    padding: 15px;
    border-radius: 8px;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 14px;
    white-space: pre-wrap;
    overflow-x: auto;
    margin-bottom: 15px;
}
button {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    margin: 5px;
    transition: all 0.3s ease;
}
button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}
.results {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    min-height: 100px;
}
.sentence-builder {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 10px;
    margin-top: 15px;
}
select {
    padding: 10px;
    border: 2px solid #e2e8f0;
    border-radius: 6px;
    font-size: 16px;
    background: white;
}
.generated-sentence {
    background: linear-gradient(135deg, #48bb78, #38a169);
    color: white;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    font-size: 18px;
    text-align: center;
    white-space: pre-wrap;
}
.practice-area {
    background: #fff5d6;
    padding: 20px;
    border-radius: 10px;
    margin-top: 15px;
}
input[type="text"] {
    width: 100%;
    padding: 12px;
    border: 2px solid #e2e8f0;
    border-radius: 6px;
    font-size: 16px;
    margin: 10px 0;
}
.correct {
    background-color: #c6f6d5 !important;
    border-color: #48bb78 !important;
}
.incorrect {
    background-color: #fed7d7 !important;
    border-color: #f56565 !important;
}
.stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin-top: 20px;
}
.stat-card {
    background: white;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.stat-number {
    font-size: 2em;
    font-weight: bold;
    color: #667eea;
}
.grammar-label {
    font-weight: bold;
    margin-bottom: 5px;
    color: #4a5568;
}
</style>
</head>
<body>
<div class="container">
<h1>üáÆüá© Banjarese-English Learning System</h1>

<!-- Learning Stats -->
<div class="section">
<h2>üìà Learning Stats</h2>
<div class="stats">
    <div class="stat-card">
        <div class="stat-number" id="totalAttempts">0</div>
        <div>Total Attempts</div>
    </div>
    <div class="stat-card">
        <div class="stat-number" id="correctAnswers">0</div>
        <div>Correct</div>
    </div>
    <div class="stat-card">
        <div class="stat-number" id="accuracy">0%</div>
        <div>Accuracy</div>
    </div>
</div>
</div>

<!-- Random Sentence Section -->
<div class="section">
<h2>üé≤ Random Sentence</h2>
<div id="randomSentenceResult" class="generated-sentence">Click "New Random" to start!</div>
<button onclick="randomSentence()">New Random Sentence</button>
</div>

<!-- Sentence Builder -->
<div class="section">
<h2>üîß Sentence Builder</h2>
<p>Build sentences using grammar rules:</p>
<div class="sentence-builder">
    <div>
        <div class="grammar-label">Subject</div>
        <select id="subjectSelect"><option value="">Select Subject</option></select>
    </div>
    <div>
        <div class="grammar-label">Verb</div>
        <select id="verbSelect"><option value="">Select Verb</option></select>
    </div>
    <div>
        <div class="grammar-label">Object</div>
        <select id="objectSelect"><option value="">Select Object</option></select>
    </div>
    <div>
        <div class="grammar-label">Adjective</div>
        <select id="adjSelect"><option value="">Select Adjective</option></select>
    </div>
    <div>
        <div class="grammar-label">Conjunction</div>
        <select id="conjSelect"><option value="">Select Conjunction</option></select>
    </div>
    <div>
        <div class="grammar-label">Pronoun</div>
        <select id="pronounSelect"><option value="">Select Pronoun</option></select>
    </div>
    <div>
        <div class="grammar-label">Noun</div>
        <select id="nounSelect"><option value="">Select Noun</option></select>
    </div>
</div>
<button onclick="generateSentence()">Generate Sentence</button>
<div id="generatedSentence" class="generated-sentence"></div>
</div>

<!-- Practice Mode -->
<div class="section">
<h2>‚úçÔ∏è Practice Mode</h2>
<div class="practice-area">
    <div id="practicePrompt">Click "New Practice" to start!</div>
    <input type="text" id="practiceInput" placeholder="Type your answer here..." style="display:none;">
    <button onclick="newPractice()">New Practice</button>
    <button onclick="checkAnswer()" style="display:none;" id="checkBtn">Check Answer</button>
    <button onclick="showAnswer()" style="display:none;" id="hintBtn">Show Answer</button>
    <div id="feedback"></div>
</div>
</div>

<script>
// Dictionary (sample subset, expand to 100+ words as needed)
const dictionary = {
    "Ulun": { jawi: "ÿßŸàŸÑŸàŸÜ", en: "I / me" },
    "Dia": { jawi: "ÿØŸäÿß", en: "He / she / they" },
    "Kami": { jawi: "ŸÉÿßŸÖŸä", en: "We (exclusive)" },
    "Pian": { jawi: "⁄§ŸäÿßŸÜ", en: "You" },
    "Makan": { jawi: "ŸÖÿßŸÉŸÜ", en: "Eat" },
    "Lari": { jawi: "ŸÑÿßÿ±Ÿä", en: "Run" },
    "Tidur": { jawi: "ÿ™ŸäÿØŸàÿ±", en: "Sleep" },
    "Baca": { jawi: "ÿ®ÿß⁄Üÿß", en: "Read" },
    "Kue": { jawi: "ŸÉŸàŸäŸá", en: "Cake" },
    "Buku": { jawi: "ÿ®ŸàŸÉŸà", en: "Book" },
    "Pasar": { jawi: "⁄§ÿßÿ≥ÿßÿ±", en: "Market" },
    "Rumah": { jawi: "ÿ±ŸàŸÖÿßŸá", en: "House" },
    "Besar": { jawi: "ÿ®Ÿäÿ≥ÿßÿ±", en: "Big" },
    "Kecil": { jawi: "ŸÉ⁄ÜŸäŸÑ", en: "Small" },
    "Panas": { jawi: "⁄§ÿßŸÜÿ≥", en: "Hot" },
    "Dingin": { jawi: "ÿØŸä⁄†ŸäŸÜ", en: "Cold" },
    "Dan": { jawi: "ÿØÿßŸÜ", en: "And" },
    "Atau": { jawi: "ÿßÿ™ÿßŸà", en: "Or" },
    "Tetapi": { jawi: "ÿ™ÿ™ÿßÿ®Ÿä", en: "But" },
    "Karena": { jawi: "ŸÉÿ±ŸäŸÜ", en: "Because" },
    "Di": { jawi: "ÿØŸä", en: "In / at / on" },
    "Ke": { jawi: "ŸÉ", en: "To / toward" },
    "Dari": { jawi: "ÿØÿ±Ÿä", en: "From" },
    "Untuk": { jawi: "ÿßŸàŸÜÿ™ŸàŸÇ", en: "For" },
    "Cepat": { jawi: "⁄Ü⁄§ÿßÿ™", en: "Fast" },
    "Perlahan": { jawi: "⁄§ÿ±ŸÑÿßŸáŸÜ", en: "Slowly" },
    "Selalu": { jawi: "ÿ≥ŸÑÿßŸà", en: "Always" },
    "Kadang": { jawi: "ŸÉÿßÿØ⁄†", en: "Sometimes" }
};

const subjects = ["Ulun","Dia","Kami","Pian"];
const verbs = ["Makan","Lari","Tidur","Baca"];
const objects = ["Kue","Buku","Pasar","Rumah"];
const adjectives = ["Besar","Kecil","Panas","Dingin"];
const conjunctions = ["Dan","Atau","Tetapi","Karena"];
const pronouns = ["Ulun","Dia","Kami","Pian"];
const nouns = ["Anak","Bapa","Ibu","Teman"];

function populateSelect(id, array){
    const select = document.getElementById(id);
    array.forEach(word => {
        const option = document.createElement("option");
        option.value = word;
        option.innerText = word;
        select.appendChild(option);
    });
}
populateSelect("subjectSelect", subjects);
populateSelect("verbSelect", verbs);
populateSelect("objectSelect", objects);
populateSelect("adjSelect", adjectives);
populateSelect("conjSelect", conjunctions);
populateSelect("pronounSelect", pronouns);
populateSelect("nounSelect", nouns);

function displaySentence(sentence){
    const words = sentence.split(" ");
    let jawi = words.map(w=>dictionary[w]?dictionary[w].jawi:w).join(" ");
    let english = words.map(w=>dictionary[w]?dictionary[w].en:w).join(" ");
    return `${sentence}\n(${jawi})\n"${english}"`;
}

function generateSentence(){
    const s = document.getElementById("subjectSelect").value;
    const v = document.getElementById("verbSelect").value;
    const o = document.getElementById("objectSelect").value;
    const a = document.getElementById("adjSelect").value;
    const c = document.getElementById("conjSelect").value;
    const p = document.getElementById("pronounSelect").value;
    const n = document.getElementById("nounSelect").value;

    const parts = [s,v,o,a,c,p,n].filter(x=>x).join(" ");
    document.getElementById("generatedSentence").innerText = displaySentence(parts);
}

// Random sentences
const practiceSentences = [
    "Ulun makan kue",
    "Dia lari cepat",
    "Kami tidur di rumah",
    "Pian baca buku"
];

let currentSentence = "";
function randomSentence(){
    const index = Math.floor(Math.random()*practiceSentences.length);
    currentSentence = practiceSentences[index];
    document.getElementBy
